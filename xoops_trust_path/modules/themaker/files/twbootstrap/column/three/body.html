<{math assign=mainGrid equation="12+(-L-R)*3" L=$xoops_showlblock R=$xoops_showrblock}>

<div id="ContentWrapper" class="row">

<{if $xoops_showlblock == 1}>
<div class="sideColumn span3">
  <div id="LeftSide">
  <dl>
  <{foreach item=block from=$xoops_lblocks}>
    <{if substr($block.title,-4) != "none"}>
    <dt class="blockTitle"><{$block.title}></dt>
    <{/if}>
    <dd class="blockContent"><{$block.content}></dd>
  <{/foreach}>
  </dl>
  </div><!-- LeftSide -->
</div><!-- sideColumn" -->
<{/if}>

<div id="MainColumn" class="span<{$mainGrid}>">
<{if $xoops_contents}>
<div id="Content" class="<{$xoops_dirname}>"><{$xoops_contents}></div>
<{/if}>
{{CenterBlock}}
</div><!-- MainColumn -->

<{if $xoops_showrblock == 1}>
<div class="sideColumn span3">
  <div id="RightSide">
  <dl>
  <{foreach item=block from=$xoops_rblocks}>
    <{if substr($block.title,-4) != "none"}>
    <dt class="blockTitle"><{$block.title}></dt>
    <{/if}>
    <dd class="blockContent"><{$block.content}></dd>
  <{/foreach}>
  </dl>
  </div><!-- RightSide -->
</div><!-- sideColumn -->
<{/if}>
</div><!-- ContentWrapper -->
